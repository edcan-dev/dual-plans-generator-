#Made by Pedro Ivan
apiVersion: '2019-12-01'
location: centralus
name: generadordeplanes
properties:
  containers:
  - name: generadordeplanes
    properties:
      # Imagen del contenedor que se utilizará para la implementación
      image: formationplanbackend.azurecr.io/formplanback:1.3
      resources:
        requests:
          # Recursos mínimos requeridos para el contenedor (CPU y memoria)
          cpu: 1
          memoryInGB: 1.5
      ports:
      - port: 80
        protocol: tcp
      - port: 443
        protocol: tcp
      volumeMounts:
      - name: dual
        # Punto de montaje del volumen en el contenedor
        mountPath: /root/Dual
  osType: Linux
  restartPolicy: Always
  ipAddress:
    type: Public
    ports:
    - protocol: tcp
      port: 80
    - protocol: tcp
      port: 443
    dnsNameLabel: generadordeplanes 
    #autoGeneratedDomainNameLabelScope: 'TenantReuse'
  volumes:
  - name: dual
    azureFile:
      # Nombre del recurso compartido Azure File
      shareName: fpb-share
      # Nombre de la cuenta de almacenamiento
      storageAccountName: mcsiotassets
      # Clave de la cuenta de almacenamiento
      storageAccountKey: kg5Treg9l7HZ/4HfG7NnGWWkLH65vdvwJ6h9OVfTIe+e1OEGCdigqErQrf3nztwJUOSICn+OVorw+ASttQbfkQ==
      readOnly: false
      
  imageRegistryCredentials:
  - server: formationplanbackend.azurecr.io
    # Credenciales del registro de imágenes utilizado para la imagen del contenedor
    username: formationPlanBackend
    password: b+CUS3bb+8ns0Pvb9ehedJghUMzT+QVs/Xfx1G4TX++ACRAZEyEc
resourceGroup: CSFluffy    
tags: {}